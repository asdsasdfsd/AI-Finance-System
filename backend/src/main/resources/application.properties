# backend/src/main/resources/application.properties

# Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/testdb?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=510418excmikeMS!
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.database=mysql

# 重要：明确排除DDD实体类，避免冲突
spring.jpa.hibernate.exclude-packages=org.example.backend.domain.aggregate

# JWT Configuration
jwt.secret=${JWT_SECRET:defaultSecretKey}
jwt.expiration=3600000

# Microsoft SSO Configuration
sso.client-id=${SSO_CLIENT_ID:dummy}
sso.client-secret=${SSO_CLIENT_SECRET:dummy}
sso.token-url=https://login.microsoftonline.com/common/oauth2/v2.0/token
sso.user-info-url=https://graph.microsoft.com/oidc/userinfo
sso.redirect-uri=http://localhost:3000/api/auth/sso/callback

# Server Configuration
server.port=8085
server.servlet.context-path=/

# DDD Feature Flags - 默认关闭DDD模式
ddd.enabled=false
migration.enabled=false
migration.preserve-ids=true

# 当前使用传统ORM模式
spring.profiles.active=orm

# Logging
logging.level.org.example.backend=INFO
logging.level.org.hibernate.SQL=DEBUG